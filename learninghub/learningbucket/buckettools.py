# Bucket tools
# ------------
# Tools for stroing lables / tags on projects in the learning bucket
# 
# @author Per-Henrik Kvalnes 2014
#
# -*- coding: utf-8 -*-
import learningbucket.models

# return a list of tags based on a comment string
def filterTags(commentString):
    taglist = []
    words = commentString.split()
    for word in words:
        if len(word) > 1 and word[0] == "#":
            word = word.lower()
            taglist.append(word)

    return taglist

def storeTags(taglist=[], project=None):

    if(project == None):
        print("storeTags tried can not store to project None")
        return False

    for tag in taglist:
        m = learningbucket.models.EProjectTag(project=project,tag=tag)
        m.save()

    return True

#
# Run som tests
#
if __name__ == "__main__":
    teststring = "This is a #comment\n A new #tag is on the #way"
    print(filterTags(teststring))
